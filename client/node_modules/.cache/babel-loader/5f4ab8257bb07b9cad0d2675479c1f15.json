{"ast":null,"code":"module.exports = debounce;\n\nfunction debounce(fn, wait, callFirst) {\n  var timeout = null;\n  var debouncedFn = null;\n\n  var clear = function () {\n    if (timeout) {\n      clearTimeout(timeout);\n      debouncedFn = null;\n      timeout = null;\n    }\n  };\n\n  var flush = function () {\n    var call = debouncedFn;\n    clear();\n\n    if (call) {\n      call();\n    }\n  };\n\n  var debounceWrapper = function () {\n    if (!wait) {\n      return fn.apply(this, arguments);\n    }\n\n    var context = this;\n    var args = arguments;\n    var callNow = callFirst && !timeout;\n    clear();\n\n    debouncedFn = function () {\n      fn.apply(context, args);\n    };\n\n    timeout = setTimeout(function () {\n      timeout = null;\n\n      if (!callNow) {\n        var call = debouncedFn;\n        debouncedFn = null;\n        return call();\n      }\n    }, wait);\n\n    if (callNow) {\n      return debouncedFn();\n    }\n  };\n\n  debounceWrapper.cancel = clear;\n  debounceWrapper.flush = flush;\n  return debounceWrapper;\n}","map":null,"metadata":{},"sourceType":"script"}