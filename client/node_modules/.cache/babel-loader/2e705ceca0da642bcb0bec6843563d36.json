{"ast":null,"code":"'use strict';\n\nconst CID = require('cids');\n\nconst errCode = require('err-code');\n\nconst IPFS_PREFIX = '/ipfs/';\n/**\n * @param {string|Uint8Array|CID} string\n * @returns {{cid:CID, path?:string}}\n */\n\nconst toCidAndPath = string => {\n  if (string instanceof Uint8Array) {\n    try {\n      string = new CID(string);\n    } catch (err) {\n      throw errCode(err, 'ERR_INVALID_CID');\n    }\n  }\n\n  if (CID.isCID(string)) {\n    return {\n      cid: string,\n      path: undefined\n    };\n  }\n\n  if (string.startsWith(IPFS_PREFIX)) {\n    string = string.substring(IPFS_PREFIX.length);\n  }\n\n  const parts = string.split('/');\n  let cid;\n  let path;\n\n  try {\n    cid = new CID(\n    /** @type {string} */\n    parts.shift());\n  } catch (err) {\n    throw errCode(err, 'ERR_INVALID_CID');\n  }\n\n  if (parts.length) {\n    path = \"/\".concat(parts.join('/'));\n  }\n\n  return {\n    cid,\n    path\n  };\n};\n\nmodule.exports = toCidAndPath;","map":null,"metadata":{},"sourceType":"script"}