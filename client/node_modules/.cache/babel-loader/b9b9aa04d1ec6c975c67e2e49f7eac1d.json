{"ast":null,"code":"'use strict';\n\nconst log = require('debug')('ipfs:mfs:utils:update-mfs-root');\n\nconst _require = require('../../../utils'),\n      MFS_ROOT_KEY = _require.MFS_ROOT_KEY;\n\nconst errCode = require('err-code');\n\nconst updateMfsRoot = async (context, cid, options) => {\n  if (options && options.signal && options.signal.aborted) {\n    throw errCode(new Error('Request aborted'), 'ERR_ABORTED', {\n      name: 'Aborted'\n    });\n  }\n\n  log(\"New MFS root will be \".concat(cid));\n  await context.repo.datastore.put(MFS_ROOT_KEY, cid.bytes);\n  return cid;\n};\n\nmodule.exports = updateMfsRoot;","map":null,"metadata":{},"sourceType":"script"}