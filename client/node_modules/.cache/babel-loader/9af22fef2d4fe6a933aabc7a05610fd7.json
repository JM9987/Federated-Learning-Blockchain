{"ast":null,"code":"'use strict';\n\nconst varint = require('varint');\n\nconst encoder = require('./encoder');\n\nfunction bytesBufferLength(val) {\n  return val.byteLength;\n}\n\nfunction bytesEncodingLength(val) {\n  const len = bytesBufferLength(val);\n  return varint.encodingLength(len) + len;\n}\n\nfunction bytesEncode(val, buffer, dataView, offset) {\n  const oldOffset = offset;\n  const len = bytesBufferLength(val);\n  varint.encode(len, buffer, offset);\n  offset += varint.encode.bytes;\n  buffer.set(val, offset);\n  offset += len;\n  bytesEncode.bytes = offset - oldOffset;\n}\n\nfunction bytesDecode(buffer, dataView, offset) {\n  const oldOffset = offset;\n  const len = varint.decode(buffer, offset);\n  offset += varint.decode.bytes;\n  const val = buffer.slice(offset, offset + len);\n  offset += val.length;\n  bytesDecode.bytes = offset - oldOffset;\n  return val;\n}\n\nmodule.exports = encoder(2, bytesEncode, bytesDecode, bytesEncodingLength);","map":null,"metadata":{},"sourceType":"script"}